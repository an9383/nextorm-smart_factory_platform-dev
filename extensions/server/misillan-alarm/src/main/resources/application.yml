server:
  port: 30010

spring:
  profiles:
    # 활성화 할 프로파일 정보
    active: ${PROFILE:}

  datasource:
    driver-class-name: org.mariadb.jdbc.Driver
    hikari:
      jdbc-url: jdbc:mariadb://${DB_HOST:localhost}:${DB_PORT:3307}/alarm
      username: ${DB_USER:dbuser}
      password: ${DB_PASSWORD:dbpass}
  jpa:
    generate-ddl: false
    show-sql: false
    hibernate:
      ddl-auto: none
    properties:
      hibernate:
        format_sql: false
        default_batch_fetch_size: 1000
        dialect: org.hibernate.dialect.MariaDBDialect
    open-in-view: false

# 외부 데이터를 가져오기 위한 설정
source:
  # CDC (Change Data Capture) 설정
  mariadb:
    host: ${CDC_SOURCE_HOST:192.168.0.56}
    port: ${CDC_SOURCE_PORT:3337}
    database: ${CDC_SOURCE_DATABASE:ecopeace}
    username: ${CDC_SOURCE_USER:dbuser}
    password: ${CDC_SOURCE_PASSWORD:dbpass}
    useSSL: false
    sslMode: DISABLED

  # SFP 포탈 설정
  sfp:
    portal:
      url: ${SYNC_PORTAL_URL:http://localhost:8081}
      id: ${SYNC_PORTAL_ID:admin}
      password: ${SYNC_PORTAL_PASSWORD:admin}

  # EQMS 포탈 설정
  eqms:
    portal:
      url: ${SYNC_EQMS_URL:http://localhost:8080}
      id: ${SYNC_EQMS_ID:admin}
      password: ${SYNC_EQMS_PASSWORD:admin}

# CDC 설정
cdc:
  enabled: ${CDC_ENABLED:false}
  data-dir: ${CDC_DATA_DIR:./00_ignores/cdc-data}

# 알람관련 설정
alarm:
  interval-seconds: ${ALARM_INTERVAL_SECONDS:60}  # 알람 재발송 주기

# 스케쥴러 설정
scheduler:
  sfp-sync:
    cron: ${SFP_SYNC_CRON:0 0/5 * * * *} # 5분마다
  eqms-sync:
    cron: ${EQMS_SYNC_CRON:0 0/5 * * * *} # 5분마다
  alarm-detect-condition-refresh:
    cron: ${ALARM_DETECT_CONDITION_REFRESH_CRON:0 0/5 * * * *} # 5분마다